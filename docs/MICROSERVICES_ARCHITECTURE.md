# å¾®æœåŠ¡æ¶æ„è¯´æ˜æ–‡æ¡£

## ğŸ“ é¡¹ç›®ç»“æ„æ¦‚è§ˆ

è¿™æ˜¯ä¸€ä¸ª**å¤šæ¨¡å— Maven é¡¹ç›®**ï¼Œé‡‡ç”¨å¾®æœåŠ¡æ¶æ„ã€‚é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š

```
staffjoy/                          # é¡¹ç›®æ ¹ç›®å½•ï¼ˆçˆ¶ POMï¼‰
â”œâ”€â”€ pom.xml                        # çˆ¶ POMï¼Œç®¡ç†æ‰€æœ‰å­æ¨¡å—
â”‚
â”œâ”€â”€ user-service/                  # ç”¨æˆ·æœåŠ¡æ¨¡å—
â”‚   â”œâ”€â”€ pom.xml                    # ç”¨æˆ·æœåŠ¡çš„ Maven é…ç½®
â”‚   â””â”€â”€ src/main/
â”‚       â”œâ”€â”€ java/.../user/
â”‚       â”‚   â”œâ”€â”€ UserServiceApplication.java    # ç”¨æˆ·æœåŠ¡ä¸»ç±»
â”‚       â”‚   â”œâ”€â”€ controller/UserController.java # REST API
â”‚       â”‚   â”œâ”€â”€ service/UserService.java       # ä¸šåŠ¡é€»è¾‘
â”‚       â”‚   â”œâ”€â”€ repository/UserRepository.java # æ•°æ®è®¿é—®
â”‚       â”‚   â””â”€â”€ model/User.java                # ç”¨æˆ·å®ä½“
â”‚       â””â”€â”€ resources/application.yml          # é…ç½®æ–‡ä»¶ï¼ˆç«¯å£ 8081ï¼‰
â”‚
â”œâ”€â”€ shift-service/                 # æ’ç­æœåŠ¡æ¨¡å—
â”‚   â”œâ”€â”€ pom.xml                    # æ’ç­æœåŠ¡çš„ Maven é…ç½®
â”‚   â””â”€â”€ src/main/
â”‚       â”œâ”€â”€ java/.../shift/
â”‚       â”‚   â”œâ”€â”€ ShiftServiceApplication.java   # æ’ç­æœåŠ¡ä¸»ç±»
â”‚       â”‚   â”œâ”€â”€ controller/
â”‚       â”‚   â”‚   â”œâ”€â”€ CompanyController.java     # å…¬å¸ API
â”‚       â”‚   â”‚   â””â”€â”€ ShiftController.java       # æ’ç­ API
â”‚       â”‚   â”œâ”€â”€ service/
â”‚       â”‚   â”‚   â”œâ”€â”€ CompanyService.java
â”‚       â”‚   â”‚   â””â”€â”€ ShiftService.java
â”‚       â”‚   â”œâ”€â”€ repository/
â”‚       â”‚   â”‚   â”œâ”€â”€ CompanyRepository.java
â”‚       â”‚   â”‚   â””â”€â”€ ShiftRepository.java
â”‚       â”‚   â””â”€â”€ model/
â”‚       â”‚       â”œâ”€â”€ Company.java               # å…¬å¸å®ä½“
â”‚       â”‚       â””â”€â”€ Shift.java                 # æ’ç­å®ä½“
â”‚       â””â”€â”€ resources/application.yml          # é…ç½®æ–‡ä»¶ï¼ˆç«¯å£ 8082ï¼‰
â”‚
â””â”€â”€ api-gateway/                   # API ç½‘å…³æ¨¡å—
    â”œâ”€â”€ pom.xml                    # ç½‘å…³çš„ Maven é…ç½®
    â””â”€â”€ src/main/
        â”œâ”€â”€ java/.../gateway/
        â”‚   â””â”€â”€ ApiGatewayApplication.java     # ç½‘å…³ä¸»ç±»
        â””â”€â”€ resources/application.yml          # è·¯ç”±é…ç½®ï¼ˆç«¯å£ 8080ï¼‰
```

---

## ğŸ—ï¸ æ¶æ„å…³ç³»å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨/Postmanï¼‰                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ HTTP è¯·æ±‚
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API Gateway (ç«¯å£ 8080)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  è·¯ç”±è§„åˆ™ï¼š                                           â”‚  â”‚
â”‚  â”‚  /api/users/**    â†’ user-service:8081                â”‚  â”‚
â”‚  â”‚  /api/companies/** â†’ shift-service:8082              â”‚  â”‚
â”‚  â”‚  /api/shifts/**   â†’ shift-service:8082               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                           â”‚
                â”‚                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                â”‚         â”‚                â”‚
        â”‚ user-service   â”‚         â”‚ shift-service  â”‚
        â”‚ (ç«¯å£ 8081)    â”‚         â”‚ (ç«¯å£ 8082)    â”‚
        â”‚                â”‚         â”‚                â”‚
        â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚ â”‚ User     â”‚  â”‚         â”‚ â”‚ Company  â”‚  â”‚
        â”‚ â”‚ Model    â”‚  â”‚         â”‚ â”‚ Model    â”‚  â”‚
        â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                â”‚         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         â”‚ â”‚ Shift    â”‚  â”‚
        â”‚ â”‚ H2 DB    â”‚  â”‚         â”‚ â”‚ Model    â”‚  â”‚
        â”‚ â”‚ userdb   â”‚  â”‚         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â”‚                â”‚
        â”‚                â”‚         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚ H2 DB    â”‚  â”‚
                                   â”‚ â”‚ shiftdb  â”‚  â”‚
                                   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                   â”‚                â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ å„æ¨¡å—çš„ä½œç”¨å’ŒèŒè´£

### 1. **çˆ¶ POM (pom.xml)**
- **ä½œç”¨**ï¼šç»Ÿä¸€ç®¡ç†æ‰€æœ‰å­æ¨¡å—
- **èŒè´£**ï¼š
  - å®šä¹‰ç»Ÿä¸€çš„ç‰ˆæœ¬å·ï¼ˆJava 21, Spring Boot 3.2.0ï¼‰
  - ç®¡ç† Spring Cloud ä¾èµ–ç‰ˆæœ¬
  - æä¾›å…¬å…±çš„ Maven æ’ä»¶é…ç½®

### 2. **user-service (ç”¨æˆ·æœåŠ¡)**
- **ç«¯å£**ï¼š8081
- **æ•°æ®åº“**ï¼šH2 å†…å­˜æ•°æ®åº“ `userdb`
- **èŒè´£**ï¼š
  - ç®¡ç†ç”¨æˆ·ä¿¡æ¯ï¼ˆUser å®ä½“ï¼‰
  - æä¾›ç”¨æˆ· CRUD API
  - ç‹¬ç«‹çš„æ•°æ®åº“ï¼Œä¸ä¾èµ–å…¶ä»–æœåŠ¡

**API ç«¯ç‚¹**ï¼š
- `GET    /api/users` - è·å–æ‰€æœ‰ç”¨æˆ·
- `GET    /api/users/{id}` - è·å–æŒ‡å®šç”¨æˆ·
- `POST   /api/users` - åˆ›å»ºç”¨æˆ·
- `PUT    /api/users/{id}` - æ›´æ–°ç”¨æˆ·
- `DELETE /api/users/{id}` - åˆ é™¤ç”¨æˆ·
- `GET    /api/users/company/{companyId}` - æ ¹æ®å…¬å¸IDè·å–ç”¨æˆ·

### 3. **shift-service (æ’ç­æœåŠ¡)**
- **ç«¯å£**ï¼š8082
- **æ•°æ®åº“**ï¼šH2 å†…å­˜æ•°æ®åº“ `shiftdb`
- **èŒè´£**ï¼š
  - ç®¡ç†å…¬å¸ä¿¡æ¯ï¼ˆCompany å®ä½“ï¼‰
  - ç®¡ç†æ’ç­ä¿¡æ¯ï¼ˆShift å®ä½“ï¼‰
  - æä¾›å…¬å¸å’Œæ’ç­çš„ CRUD API

**API ç«¯ç‚¹**ï¼š
- **å…¬å¸ç›¸å…³**ï¼š
  - `GET    /api/companies` - è·å–æ‰€æœ‰å…¬å¸
  - `GET    /api/companies/{id}` - è·å–æŒ‡å®šå…¬å¸
  - `POST   /api/companies` - åˆ›å»ºå…¬å¸
  - `PUT    /api/companies/{id}` - æ›´æ–°å…¬å¸
  - `DELETE /api/companies/{id}` - åˆ é™¤å…¬å¸

- **æ’ç­ç›¸å…³**ï¼š
  - `GET    /api/shifts` - è·å–æ‰€æœ‰æ’ç­
  - `GET    /api/shifts/{id}` - è·å–æŒ‡å®šæ’ç­
  - `GET    /api/shifts/user/{userId}` - è·å–ç”¨æˆ·çš„æ’ç­
  - `GET    /api/shifts/company/{companyId}` - è·å–å…¬å¸çš„æ’ç­
  - `POST   /api/shifts` - åˆ›å»ºæ’ç­
  - `PUT    /api/shifts/{id}` - æ›´æ–°æ’ç­
  - `DELETE /api/shifts/{id}` - åˆ é™¤æ’ç­

### 4. **api-gateway (API ç½‘å…³)**
- **ç«¯å£**ï¼š8080
- **èŒè´£**ï¼š
  - ä½œä¸ºç»Ÿä¸€å…¥å£ï¼Œæ¥æ”¶æ‰€æœ‰å®¢æˆ·ç«¯è¯·æ±‚
  - æ ¹æ®è·¯å¾„å°†è¯·æ±‚è·¯ç”±åˆ°å¯¹åº”çš„å¾®æœåŠ¡
  - æä¾› CORS æ”¯æŒ
  - ä¸ç›´æ¥è®¿é—®æ•°æ®åº“

**è·¯ç”±è§„åˆ™**ï¼š
- `/api/users/**` â†’ `http://localhost:8081/api/users/**`
- `/api/companies/**` â†’ `http://localhost:8082/api/companies/**`
- `/api/shifts/**` â†’ `http://localhost:8082/api/shifts/**`

---

## ğŸ”— æ¨¡å—é—´çš„åä½œå…³ç³»

### 1. **ç¼–è¯‘æ—¶å…³ç³»ï¼ˆMaven æ¨¡å—ï¼‰**

```
çˆ¶ POM (pom.xml)
    â”œâ”€â”€ user-service (å­æ¨¡å—)
    â”œâ”€â”€ shift-service (å­æ¨¡å—)
    â””â”€â”€ api-gateway (å­æ¨¡å—)
```

- æ‰€æœ‰å­æ¨¡å—ç»§æ‰¿çˆ¶ POM çš„é…ç½®
- å¯ä»¥ç»Ÿä¸€ç¼–è¯‘ï¼š`mvn clean install`
- æ¯ä¸ªå­æ¨¡å—å¯ä»¥ç‹¬ç«‹ç¼–è¯‘å’Œè¿è¡Œ

### 2. **è¿è¡Œæ—¶å…³ç³»ï¼ˆå¾®æœåŠ¡é€šä¿¡ï¼‰**

```
å®¢æˆ·ç«¯
  â†“
API Gateway (8080)
  â†“ (HTTP è·¯ç”±)
  â”œâ”€â†’ user-service (8081)
  â””â”€â†’ shift-service (8082)
```

- **API Gateway** æ˜¯å”¯ä¸€å¯¹å¤–æš´éœ²çš„æœåŠ¡
- å®¢æˆ·ç«¯åªéœ€è¦çŸ¥é“ Gateway çš„åœ°å€ï¼ˆ8080ï¼‰
- Gateway è´Ÿè´£å°†è¯·æ±‚è½¬å‘åˆ°å¯¹åº”çš„å¾®æœåŠ¡

### 3. **æ•°æ®å…³ç³»ï¼ˆè·¨æœåŠ¡å¼•ç”¨ï¼‰**

åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œ**ä¸èƒ½ä½¿ç”¨ JPA çš„å…³è”å…³ç³»**ï¼ˆå¦‚ `@ManyToOne`ï¼‰è·¨æœåŠ¡å¼•ç”¨å®ä½“ã€‚

**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨ ID å¼•ç”¨

- **User å®ä½“**ï¼ˆuser-serviceï¼‰ï¼š
  - æœ‰ `companyId` å­—æ®µï¼ˆLong ç±»å‹ï¼‰
  - ä¸ç›´æ¥å¼•ç”¨ Company å®ä½“

- **Shift å®ä½“**ï¼ˆshift-serviceï¼‰ï¼š
  - æœ‰ `userId` å­—æ®µï¼ˆLong ç±»å‹ï¼‰
  - æœ‰ `company` å­—æ®µï¼ˆJPA å…³è”ï¼Œå› ä¸º Company åœ¨åŒä¸€æœåŠ¡ä¸­ï¼‰

---

## ğŸš€ å¯åŠ¨é¡ºåºå’Œæ­¥éª¤

### æ–¹å¼1ï¼šåˆ†åˆ«å¯åŠ¨ï¼ˆæ¨èç”¨äºå¼€å‘ï¼‰

**æ­¥éª¤ 1ï¼šå¯åŠ¨ç”¨æˆ·æœåŠ¡**
```bash
cd user-service
mvn spring-boot:run
# ç­‰å¾…çœ‹åˆ° "Started UserServiceApplication" æ—¥å¿—
```

**æ­¥éª¤ 2ï¼šå¯åŠ¨æ’ç­æœåŠ¡**ï¼ˆæ–°ç»ˆç«¯çª—å£ï¼‰
```bash
cd shift-service
mvn spring-boot:run
# ç­‰å¾…çœ‹åˆ° "Started ShiftServiceApplication" æ—¥å¿—
```

**æ­¥éª¤ 3ï¼šå¯åŠ¨ API ç½‘å…³**ï¼ˆæ–°ç»ˆç«¯çª—å£ï¼‰
```bash
cd api-gateway
mvn spring-boot:run
# ç­‰å¾…çœ‹åˆ° "Started ApiGatewayApplication" æ—¥å¿—
```

### æ–¹å¼2ï¼šä½¿ç”¨ Maven å¹¶è¡Œè¿è¡Œï¼ˆéœ€è¦å¤šä¸ªç»ˆç«¯ï¼‰

```bash
# ç»ˆç«¯1
mvn -pl user-service spring-boot:run

# ç»ˆç«¯2
mvn -pl shift-service spring-boot:run

# ç»ˆç«¯3
mvn -pl api-gateway spring-boot:run
```

### æ–¹å¼3ï¼šæ‰“åŒ…åè¿è¡Œ

```bash
# 1. ç¼–è¯‘æ‰“åŒ…æ‰€æœ‰æ¨¡å—
mvn clean package

# 2. åˆ†åˆ«è¿è¡Œ
java -jar user-service/target/user-service-1.0.0-SNAPSHOT.jar
java -jar shift-service/target/shift-service-1.0.0-SNAPSHOT.jar
java -jar api-gateway/target/api-gateway-1.0.0-SNAPSHOT.jar
```

---

## ğŸ“Š æ•°æ®æµç¤ºä¾‹

### ç¤ºä¾‹1ï¼šé€šè¿‡ç½‘å…³åˆ›å»ºç”¨æˆ·

```
1. å®¢æˆ·ç«¯å‘é€è¯·æ±‚
   POST http://localhost:8080/api/users
   {
     "username": "john",
     "email": "john@example.com",
     "name": "John Doe"
   }

2. API Gateway æ¥æ”¶è¯·æ±‚
   - åŒ¹é…è·¯ç”±è§„åˆ™ï¼š/api/users/** â†’ user-service:8081
   - è½¬å‘è¯·æ±‚åˆ°ï¼šhttp://localhost:8081/api/users

3. user-service å¤„ç†è¯·æ±‚
   - UserController æ¥æ”¶è¯·æ±‚
   - UserService å¤„ç†ä¸šåŠ¡é€»è¾‘
   - UserRepository ä¿å­˜åˆ°æ•°æ®åº“ï¼ˆuserdbï¼‰

4. å“åº”è¿”å›
   user-service â†’ API Gateway â†’ å®¢æˆ·ç«¯
```

### ç¤ºä¾‹2ï¼šé€šè¿‡ç½‘å…³åˆ›å»ºæ’ç­

```
1. å®¢æˆ·ç«¯å‘é€è¯·æ±‚
   POST http://localhost:8080/api/shifts
   {
     "userId": 1,
     "company": {"id": 1},
     "startTime": "2024-01-15T09:00:00",
     "stopTime": "2024-01-15T17:00:00"
   }

2. API Gateway æ¥æ”¶è¯·æ±‚
   - åŒ¹é…è·¯ç”±è§„åˆ™ï¼š/api/shifts/** â†’ shift-service:8082
   - è½¬å‘è¯·æ±‚åˆ°ï¼šhttp://localhost:8082/api/shifts

3. shift-service å¤„ç†è¯·æ±‚
   - ShiftController æ¥æ”¶è¯·æ±‚
   - ShiftService å¤„ç†ä¸šåŠ¡é€»è¾‘
   - éªŒè¯ company æ˜¯å¦å­˜åœ¨ï¼ˆåœ¨åŒä¸€æœåŠ¡ä¸­ï¼‰
   - ä¿å­˜åˆ°æ•°æ®åº“ï¼ˆshiftdbï¼‰

4. å“åº”è¿”å›
   shift-service â†’ API Gateway â†’ å®¢æˆ·ç«¯
```

---

## ğŸ” å…³é”®æ¦‚å¿µç†è§£

### 1. **ä¸ºä»€ä¹ˆéœ€è¦ API Gatewayï¼Ÿ**
- **ç»Ÿä¸€å…¥å£**ï¼šå®¢æˆ·ç«¯åªéœ€è¦çŸ¥é“ä¸€ä¸ªåœ°å€
- **è·¯ç”±ç®¡ç†**ï¼šæ ¹æ®è·¯å¾„è‡ªåŠ¨è½¬å‘åˆ°å¯¹åº”æœåŠ¡
- **è§£è€¦**ï¼šå®¢æˆ·ç«¯ä¸éœ€è¦çŸ¥é“å„ä¸ªæœåŠ¡çš„å…·ä½“åœ°å€å’Œç«¯å£
- **æœªæ¥æ‰©å±•**ï¼šå¯ä»¥æ·»åŠ è®¤è¯ã€é™æµã€ç›‘æ§ç­‰åŠŸèƒ½

### 2. **ä¸ºä»€ä¹ˆæ¯ä¸ªæœåŠ¡æœ‰ç‹¬ç«‹çš„æ•°æ®åº“ï¼Ÿ**
- **æ•°æ®éš”ç¦»**ï¼šæ¯ä¸ªæœåŠ¡ç®¡ç†è‡ªå·±çš„æ•°æ®
- **ç‹¬ç«‹æ‰©å±•**ï¼šå¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©ä¸åŒçš„æ•°æ®åº“
- **æ•…éšœéš”ç¦»**ï¼šä¸€ä¸ªæœåŠ¡çš„æ•°æ®åº“é—®é¢˜ä¸å½±å“å…¶ä»–æœåŠ¡

### 3. **ä¸ºä»€ä¹ˆä¸èƒ½è·¨æœåŠ¡ä½¿ç”¨ JPA å…³è”ï¼Ÿ**
- **æœåŠ¡è¾¹ç•Œ**ï¼šæ¯ä¸ªæœåŠ¡æ˜¯ç‹¬ç«‹çš„ï¼Œä¸èƒ½ç›´æ¥è®¿é—®å…¶ä»–æœåŠ¡çš„æ•°æ®åº“
- **æ€§èƒ½é—®é¢˜**ï¼šè·¨æœåŠ¡æŸ¥è¯¢ä¼šå¯¼è‡´ç½‘ç»œå»¶è¿Ÿ
- **æ•°æ®ä¸€è‡´æ€§**ï¼šéœ€è¦é€šè¿‡æœåŠ¡é—´é€šä¿¡æ¥ä¿è¯

### 4. **å¦‚ä½•å®ç°è·¨æœåŠ¡çš„æ•°æ®å…³è”ï¼Ÿ**
- **é€šè¿‡ ID å¼•ç”¨**ï¼šå­˜å‚¨å…¶ä»–æœåŠ¡çš„å®ä½“ ID
- **æœåŠ¡é—´é€šä¿¡**ï¼šé€šè¿‡ HTTP API è°ƒç”¨å…¶ä»–æœåŠ¡è·å–æ•°æ®
- **æ•°æ®èšåˆ**ï¼šåœ¨ Gateway æˆ–å‰ç«¯èšåˆå¤šä¸ªæœåŠ¡çš„æ•°æ®

---

## âœ… éªŒè¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ

### 1. æ£€æŸ¥æœåŠ¡çŠ¶æ€

```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -ti:8080  # API Gateway
lsof -ti:8081  # User Service
lsof -ti:8082  # Shift Service
```

### 2. æµ‹è¯• API Gateway

```bash
# å¥åº·æ£€æŸ¥ï¼ˆé€šè¿‡ç½‘å…³è®¿é—®ç”¨æˆ·æœåŠ¡ï¼‰
curl http://localhost:8080/api/users/health
# åº”è¯¥è¿”å›ï¼šUser service is running!
```

### 3. æµ‹è¯•ç”¨æˆ·æœåŠ¡ï¼ˆç›´æ¥è®¿é—®ï¼‰

```bash
# ç›´æ¥è®¿é—®ç”¨æˆ·æœåŠ¡
curl http://localhost:8081/api/users/health
# åº”è¯¥è¿”å›ï¼šUser service is running!
```

### 4. æµ‹è¯•æ’ç­æœåŠ¡ï¼ˆç›´æ¥è®¿é—®ï¼‰

```bash
# ç›´æ¥è®¿é—®æ’ç­æœåŠ¡
curl http://localhost:8082/api/companies
# åº”è¯¥è¿”å›ï¼š[]ï¼ˆç©ºæ•°ç»„ï¼Œå› ä¸ºè¿˜æ²¡æœ‰æ•°æ®ï¼‰
```

---

## ğŸ¯ æ€»ç»“

1. **é¡¹ç›®ç»“æ„**ï¼šå¤šæ¨¡å— Maven é¡¹ç›®ï¼Œçˆ¶ POM ç®¡ç†æ‰€æœ‰å­æ¨¡å—
2. **æœåŠ¡æ¶æ„**ï¼š3 ä¸ªç‹¬ç«‹çš„å¾®æœåŠ¡ + 1 ä¸ª API ç½‘å…³
3. **æ•°æ®å­˜å‚¨**ï¼šæ¯ä¸ªæœåŠ¡æœ‰ç‹¬ç«‹çš„æ•°æ®åº“
4. **æœåŠ¡é€šä¿¡**ï¼šé€šè¿‡ HTTP API è¿›è¡Œé€šä¿¡
5. **ç»Ÿä¸€å…¥å£**ï¼šæ‰€æœ‰è¯·æ±‚é€šè¿‡ API Gateway è·¯ç”±åˆ°å¯¹åº”æœåŠ¡

è¿™æ ·çš„æ¶æ„ä½¿å¾—ï¼š
- âœ… æœåŠ¡å¯ä»¥ç‹¬ç«‹å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²
- âœ… å¯ä»¥ç‹¬ç«‹æ‰©å±•å’Œä¼˜åŒ–
- âœ… æ•…éšœéš”ç¦»ï¼Œä¸€ä¸ªæœåŠ¡çš„é—®é¢˜ä¸å½±å“å…¶ä»–æœåŠ¡
- âœ… æŠ€æœ¯æ ˆå¯ä»¥ä¸åŒï¼ˆè™½ç„¶è¿™é‡Œéƒ½ç”¨ Spring Bootï¼‰

